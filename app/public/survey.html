<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>FriendFinder</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>

<body>
    <!-- Jumbotron Header -->
    <section class="banner">
        <div class="jumbotron jumbotron-fluid bg-info">
            <div class="container">
                <h1 class="display-4"><strong>Friend Finder</strong></h1>
                <p class="lead">Get started with the questionaire below.
                </p>
            </div>
        </div>
    </section>
    <!-- Survey Section -->
    <section>
        <div class="container">
            <h2><strong>Survey Questions</strong></h2>
            <hr>
            <div>
                <h3>Basic Information</strong>
                    <h5>Name (Required)</h5>
                    <input type="text" id="name" class="form-control" placeholder="George" required>

                    <h5>Link to Photo Image (Required)</h5>
                    <input type="text" id="photo" class="form-control" placeholder="George" required>
            </div>

            <hr>

            <h3>Select the answer that best fits your personality for each question below</h3>

            <br>

            <h4><strong>Question 1</strong></h4>
            <h5>I am energized by social situations.</h5>
            <select class="selection" id="question1">
                <!-- <option value=""></option> -->
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>


            <h4><strong>Question 2</strong></h4>
            <h5>When on vacation, I like to plan out all of my activities.</h5>
            <select class="selection" id="question2">
                <!-- <option value=""></option> -->
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>


            <h4><strong>Question 3</strong></h4>
            <h5>I prefer to take on a leadership role.</h5>
            <select class="selection" id="question3">
                <!-- <option value=""></option> -->
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>


            <h4><strong>Question 4</strong></h4>
            <h5>I make my decisions based on logic over emotion.</h5>
            <select class="selection" id="question4">
                <!-- <option value=""></option> -->
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>


            <h4><strong>Question 5</strong></h4>
            <h5>I enjoy tackling complex problems.</h5>
            <select class="selection" id="question5">
                <!-- <option value=""></option> -->
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>


            <h4><strong>Question 6</strong></h4>
            <h5>I accomplish tasks well before their deadlines.</h5>
            <select class="selection" id="question6">
                <!-- <option value=""></option> -->
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>


            <h4><strong>Question 7</strong></h4>
            <h5>I pay attention to world news and events.</h5>
            <select class="selection" id="question7">
                <!-- <option value=""></option> -->
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h4><strong>Question 8</strong></h4>
            <h5>I believe in clear rules and guidelines.</h5>
            <select class="selection" id="question8">
                <!-- <option value=""></option> -->
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h4><strong>Question 9</strong></h4>
            <h5>I believe that people are generally good.</h5>
            <select class="selection" id="question9">
                <!-- <option value=""></option> -->
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <h4><strong>Question 10</strong></h4>
            <h5>I have a wide variety of hobbies and interests.</h5>
            <select class="selection" id="question10">
                <!-- <option value=""></option> -->
                <option value="1">1 (Strongly Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
            </select>

            <br>
            <br>

            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary btn-lg btn-block bg-dark" id="submit"><i
                    class="fa fa-check-circle" aria-hidden="true"></i>
                Submit Your Survey</button>

            <!-- Footer -->
            <hr>
            <div class="footer">
                <div class="container">
                    <p>Find A Friend Inc.</p>
                </div>
            </div>
    </section>
    <!-- Modal -->
    <div id="results-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h2 class="modal-title"><strong>Meet Your Best Match</strong></h2>
                </div>
                <div class="modal-body">
                    <h2 id="match-name"></h2>
                    <img id="match-img" src="https://unsplash.com/photos/3VTZloIMFP0" alt="">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>

    <script>
        $("#submit").on("click", function (event) {
            event.preventDefault();

            var currentURL = window.location.origin;
            console.log(currentURL)

            // Form validation
            var isValid = true;

            function validateForm() {
                // make sure all fields have data
                $(".form-control").each(function () {
                    if ($(this).val() == "") {
                        isValid = false;
                    }
                });

                $(".selection").each(function () {

                    if ($(this).val() == "") {
                        isValid = false;
                    }
                });
                // return isValid;
            }

            validateForm();
            console.log(isValid)
            if (isValid == true) {
                // grab user input and create new object
                var newFriend = {
                    name: $("#name").val().trim(),
                    photo: $("#photo").val(),
                    scores: [
                        $("#question1").val(),
                        $("#question2").val(),
                        $("#question3").val(),
                        $("#question4").val(),
                        $("#question5").val(),
                        $("#question6").val(),
                        $("#question7").val(),
                        $("#question8").val(),
                        $("#question9").val(),
                        $("#question10").val()
                    ]
                }
                // console.log(newFriend)

                // pass the user object to the api
                $.post(currentURL + "/api/friends", newFriend)
                    .then(function (data) {
                        console.log("survey.html", data);
                        alert("Adding friend...")
                    });
            } else {
                alert("Please answer all questions before continuing!")
            }
        });
    </script>

</body>

</html>